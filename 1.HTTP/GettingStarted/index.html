<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="Tivadar György Nagy">
    <link rel="canonical" href="http://u3d.as/5sb/1.HTTP/GettingStarted/">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Getting Started Quickly - Best HTTP/2 Documentation</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
	<link rel="stylesheet" href="../../css/prism.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
	<script src="../../js/prism.js"></script>
	
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Getting Started Quickly", url: "#_top", children: [
              {title: "GET Requests", url: "#get-requests" },
              {title: "POST Requests", url: "#post-requests" },
              {title: "Head Requests", url: "#head-requests" },
              {title: "Put Requests", url: "#put-requests" },
              {title: "Delete Requests", url: "#delete-requests" },
              {title: "Patch Requests", url: "#patch-requests" },
              {title: "How To Access The Downloaded Data", url: "#how-to-access-the-downloaded-data" },
              {title: "More Examples", url: "#more-examples" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body class="line-numbers match-braces" >
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../HTTPRequest/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../HTTPRequest/" class="btn btn-xs btn-link">
        HTTPRequest
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../platforms/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../platforms/" class="btn btn-xs btn-link">
        Platforms
      </a>
    </div>
    
  </div>

    

    <h1 id="getting-started-quickly">Getting Started Quickly</h1>
<p>After you imported the package, you should add a using statement to your source file like any other regular usings:</p>
<pre><code>using BestHTTP;
</code></pre>

<h2 id="get-requests">GET Requests</h2>
<p>The simplest way to do a request to a web server is to create a <code>HTTPRequest</code> object providing the url and a callback function to it's constructor. After we constructed a new <code>HTTPRequest</code> object the only thing we need to do, is actually send the request with the Send() function. Let's see an example:</p>
<pre><code class="language-csharp">HTTPRequest request = new HTTPRequest(new Uri(&quot;https://google.com&quot;), OnRequestFinished);
request.Send();
</code></pre>

<p>The OnRequestFinished() function's implementation might be this:</p>
<pre><code class="language-csharp">void OnRequestFinished(HTTPRequest request, HTTPResponse response)
{
    Debug.Log(&quot;Request Finished! Text received: &quot; + response.DataAsText);
}
</code></pre>

<p>As you can see the callback function always receives the original <code>HTTPRequest</code> object and an <code>HTTPResponse</code> object that holds the response from the server. The <code>HTTPResponse</code> object is <code>null</code> if there were an error and the request object has an <code>Exception</code> property that might carry extra information about the error if there were any.</p>
<p>While the requests are always processed on separate threads, calling the callback function is done on Unity's main thread, so we don't have to do any thread synchronization.</p>
<p>If we want to write more compact code we can use c#'s lambda expressions. In this example we don't even need a temporary variable:</p>
<pre><code class="language-csharp">new HTTPRequest(new Uri(&quot;https://google.com&quot;), (request, response) =&gt; Debug.Log(&quot;Finished!&quot;))
    .Send();
</code></pre>

<div class="admonition notice">
<p class="admonition-title">Notice</p>
<p>Error handling is omitted for brevity in most of the samples through the documentation, but there's a complete section dedicated to <a href="../AdvancedTopics/ErrorHandling/">error handling</a>.</p>
</div>
<h2 id="post-requests">POST Requests</h2>
<p>The above examples were simple GET requests. If we don’t specify the method, all requests will be GET requests by default. The constructor has another parameter that can be used to specify the method of the request:</p>
<pre><code class="language-csharp">HTTPRequest request = new HTTPRequest(new Uri(&quot;http://server.com/path&quot;), HTTPMethods.Post, OnRequestFinished);
request.AddField(&quot;FieldName&quot;, &quot;Field Value&quot;);
request.Send();
</code></pre>

<p>To POST any data without setting a field you can use the <code>RawData</code> property:</p>
<pre><code class="language-csharp">HTTPRequest request = new HTTPRequest(new Uri(&quot;http://server.com/path&quot;), HTTPMethods.Post, OnRequestFinished);
request.RawData =  Encoding.UTF8.GetBytes(&quot;Field Value&quot;);
request.Send();
</code></pre>

<p>For additional samples check out the <a href="../AdvancedTopics/SmallCode-Samples/">Small Code-Samples section</a>.</p>
<p>Beside GET and POST you can use the HEAD, PUT, DELETE and PATCH methods as well:</p>
<h2 id="head-requests">Head Requests</h2>
<pre><code class="language-csharp">HTTPRequest request = new HTTPRequest(new Uri(&quot;http://server.com/path&quot;), HTTPMethods.Head, OnRequestFinished);
request.Send();
</code></pre>

<h2 id="put-requests">Put Requests</h2>
<pre><code class="language-csharp">HTTPRequest request = new HTTPRequest(new Uri(&quot;http://server.com/path&quot;), HTTPMethods.Put, OnRequestFinished);
request.Send();
</code></pre>

<h2 id="delete-requests">Delete Requests</h2>
<pre><code class="language-csharp">HTTPRequest request = new HTTPRequest(new Uri(&quot;http://server.com/path&quot;), HTTPMethods.Delete, OnRequestFinished);
request.Send();
</code></pre>

<h2 id="patch-requests">Patch Requests</h2>
<pre><code class="language-csharp">HTTPRequest request = new HTTPRequest(new Uri(&quot;http://server.com/path&quot;), HTTPMethods.Patch, OnRequestFinished);
request.Send();
</code></pre>

<h2 id="how-to-access-the-downloaded-data">How To Access The Downloaded Data</h2>
<p>Most of the time we use our requests to receive some data from a server. The raw bytes can be accessed from the <code>HTTPResponse</code> object's <code>Data</code> property. Let's see an example how to download an image:</p>
<pre><code class="language-csharp">new HTTPRequest(new Uri(&quot;http://yourserver.com/path/to/image.png&quot;), (request, response) =&gt;
{
    var tex = new Texture2D(0, 0);
    tex.LoadImage(response.Data);
    guiTexture.texture = tex;
}).Send();
</code></pre>

<p>Beside of <code>DataAsTexture2D</code> there is a <code>DataAsText</code> property too to decode the response as an Utf8 string.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All examples in this document are without any error checking! See the <a href="../AdvancedTopics/ErrorHandling/">Error Handling topic</a>!</p>
</div>
<h2 id="more-examples">More Examples</h2>
<p>More examples and sample code snippets can be found under the <a href="../AdvancedTopics/SmallCode-Samples/">Small Code-Samples</a> topic, like</p>
<ol>
<li><a href="../AdvancedTopics/SmallCode-Samples/#upload-a-picture-using-forms">How to send binary data in a Form</a></li>
<li><a href="../AdvancedTopics/SmallCode-Samples/#send-json-data">How to send JSON data</a></li>
<li><a href="../AdvancedTopics/SmallCode-Samples/#get-header-values">How to access response headers</a></li>
</ol>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../HTTPRequest/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../HTTPRequest/" class="btn btn-xs btn-link">
        HTTPRequest
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../platforms/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../platforms/" class="btn btn-xs btn-link">
        Platforms
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>